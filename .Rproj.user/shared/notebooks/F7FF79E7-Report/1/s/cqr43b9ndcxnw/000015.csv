"0","library(readr); library(dplyr); library(tidyr); library(knitr); library(ggplot2); library(broom)"
"0",""
"0","# Use the unified panel you already created"
"0","# (created by scripts/02_merge_panel.R)"
"0","panel <- read_csv(""data/processed/panel_merged_wide.csv"", show_col_types = FALSE)"
"0",""
"0","# ---------- 5.1 Confidence intervals for key outcomes ----------"
"0","mean_ci <- function(x){"
"0","  x <- x[is.finite(x)]"
"0","  n <- length(x); m <- mean(x); s <- sd(x)"
"0","  se <- s / sqrt(n); tcrit <- qt(.975, df = n - 1)"
"0","  tibble(N = n, Mean = m, SD = s,"
"0","         `CI 95% Lower` = m - tcrit*se,"
"0","         `CI 95% Upper` = m + tcrit*se)"
"0","}"
"0",""
"0","ci_tbl <- bind_rows("
"0","  Asylum_Applications   = mean_ci(panel$asylum_apps),"
"0","  Internal_Displacement = mean_ci(panel$total_int_disp)"
"0",") |>"
"0","  dplyr::mutate(Variable = c(""Asylum applications"", ""Total internal displacements""),"
"0","                .before = 1) |>"
"0","  select(Variable, everything())"
"0",""
"0","kable(ci_tbl, digits = 2,"
"0","      caption = ""Table: 95% confidence intervals for mean outcomes (pooled, N = 512)."")"
